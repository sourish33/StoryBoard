<!DOCTYPE html>
<html lang="en">
    <%- include('partials/header.ejs'); %>
    <title>Public Stories</title>
</head>
<body>
    <%- include('partials/nav.ejs') %> 
    <div class="container">
        <div class="header-box">
            <div class="indexpage-header">
                <h3>Public Stories</h3>
                <a href="/stories"> View as Cards</a>
                
                    <div class="top-panel">
                        <form action="/stories" method="GET" id="sortOptions">
                            <input type="hidden" name="view" value="list">
                            <select name="sortby" id="sortby" class="browser-default" onchange="handleSort()">
                                <option value="Least Likes" <%= sortby === "Least Likes" ? "selected" : "" %> >Least Likes</option>
                                <option value="Most Likes" <%= sortby === "Most Likes" ? "selected" : "" %> >Most Likes</option>
                                <option value="Oldest"  <%= sortby === "Oldest" ? "selected" : "" %> >Oldest</option>
                                <option value="Recent"  <%= sortby === "Recent" ? "selected" : "" %> >Recent</option>
                            </select>
                        </form>
                    </div>
            </div>
            <a href="/dashboard" class="waves-effect waves-light btn extra-button">Dashboard</a>
        </div>
            <div class="wrapper">
                <% for( let story of retrievedStories) { %>
                    <div>
                        <p><%= story.title %></p>
                        <p><a href="#"><%= story.user.displayName %> </a></p>
                    </div>

                <% } %>

            </div>
        


    </div>

<%- include('partials/footer.ejs') %> 
<script src="/js/publicViews.js"></script>


</body>
</html>